#N canvas 543 136 739 469 10;
#X text 13 7 Frequencias;
#X text 208 6 Amplitudes;
#X obj 11 75 s $freq;
#X obj 206 70 s $amp;
#N canvas 143 312 717 588 externLoop 1;
#N canvas 1 304 1425 600 innerLoop 0;
#X obj -230 -72 inlet;
#X obj -162 -70 inlet;
#X text -231 -90 Indice i;
#X text -163 -89 Indice j;
#X text 68 31 allpartialsatinterval[j];
#X text 226 52 freq[i];
#X text 22 112 fmin;
#X obj 57 114 expr if ($f1 < $f2 \, $f1 \, $f2);
#X obj 57 175 expr 0.24/(0.0207*$f1 + 18.96);
#X text 21 173 s;
#X obj 138 148 expr abs($f1 - $f2);
#X text 102 147 fdif;
#X obj 57 212 expr $f1 * $f2;
#X text 3 212 s * fdif;
#N canvas 593 546 450 300 exponencial 0;
#X obj 73 117 inlet;
#X obj 73 139 t f f;
#X obj 73 160 * -3.51;
#X obj 208 156 * -5.75;
#X obj 73 180 exp;
#X obj 208 176 exp;
#X obj 73 204 expr 5 * $f1 + -5 * $f2;
#X obj 73 225 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 6 1;
#X connect 6 0 7 0;
#X restore 57 241 pd exponencial;
#X text -145 215 amp[i];
#X text -58 232 amp[j];
#X obj -162 300 outlet;
#X text -108 299 dnew;
#X obj 309 -55 r $j;
#X obj 455 -55 r $i;
#X obj 594 -54 r $i;
#X obj 729 -53 r $j;
#X obj 309 30 s $all[j];
#X obj 455 30 s $freq[i];
#X obj 594 31 s $amp[i];
#X obj 729 30 s $amp[j];
#X obj 72 51 r $all[j];
#X obj 228 71 r $freq[i];
#X obj -230 -50 s $i;
#X obj -97 -27 s $j;
#X obj -147 232 r $amp[j];
#X obj -53 253 r $amp[i];
#X obj -162 275 expr if ($f2 < $f1 \, $f2*$f3 \, $f1*$f3);
#X obj 57 95 t f f;
#X obj 228 95 t f f;
#X obj 57 74 f;
#X obj -162 254 f;
#X floatatom 455 8 0 0 0 0 value - -;
#X floatatom 455 -33 0 0 99 0 index - -;
#X obj 455 -13 tabread \$0-freq;
#X floatatom 729 9 0 0 0 0 value - -;
#X floatatom 729 -32 0 0 99 0 index - -;
#X obj 729 -12 tabread \$0-amp;
#X floatatom 594 9 0 0 0 0 value - -;
#X floatatom 594 -32 0 0 99 0 index - -;
#X obj 594 -12 tabread \$0-amp;
#X floatatom 309 8 0 0 0 0 value - -;
#X floatatom 309 -33 0 0 99 0 index - -;
#X obj 309 -13 tabread \$0-all;
#X obj -162 -44 t b b f;
#X connect 0 0 29 0;
#X connect 1 0 50 0;
#X connect 7 0 8 0;
#X connect 8 0 12 0;
#X connect 10 0 12 1;
#X connect 12 0 14 0;
#X connect 14 0 33 2;
#X connect 19 0 48 0;
#X connect 20 0 39 0;
#X connect 21 0 45 0;
#X connect 22 0 42 0;
#X connect 27 0 36 1;
#X connect 28 0 35 0;
#X connect 31 0 37 1;
#X connect 32 0 33 1;
#X connect 33 0 17 0;
#X connect 34 0 7 0;
#X connect 34 1 10 0;
#X connect 35 0 7 1;
#X connect 35 1 10 1;
#X connect 36 0 34 0;
#X connect 37 0 33 0;
#X connect 38 0 24 0;
#X connect 39 0 40 0;
#X connect 40 0 38 0;
#X connect 41 0 26 0;
#X connect 42 0 43 0;
#X connect 43 0 41 0;
#X connect 44 0 25 0;
#X connect 45 0 46 0;
#X connect 46 0 44 0;
#X connect 47 0 23 0;
#X connect 48 0 49 0;
#X connect 49 0 47 0;
#X connect 50 0 37 0;
#X connect 50 1 36 0;
#X connect 50 2 30 0;
#X restore 252 276 pd innerLoop;
#N canvas 715 97 720 807 indices 0;
#X obj 224 90 until;
#X obj 258 122 + 1;
#X obj 224 122 f;
#X obj 224 146 moses;
#X obj 295 122 bang;
#X text 152 174 Indice i;
#X obj 224 230 until;
#X obj 258 262 + 1;
#X obj 224 262 f;
#X obj 224 286 moses;
#X obj 295 262 bang;
#X obj 224 329 f;
#X obj 155 194 f;
#X text 222 310 Indice j;
#X msg 267 231 0;
#X msg 270 91 0;
#X obj 224 177 t b b f;
#X obj 224 39 inlet;
#X obj 224 350 outlet;
#X obj 155 350 outlet;
#X obj 403 129 f 1;
#X obj 418 42 inlet;
#X obj 224 62 t b b b;
#X text 399 113 Isso deve ser o numero de parciais;
#X text 465 38 Numero de parciais (limite de i e j);
#X text 263 40 Inicia o loop;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 1 0;
#X connect 2 0 3 0;
#X connect 3 0 16 0;
#X connect 3 1 4 0;
#X connect 4 0 0 1;
#X connect 6 0 8 0;
#X connect 7 0 8 1;
#X connect 8 0 7 0;
#X connect 8 0 9 0;
#X connect 9 0 11 0;
#X connect 9 1 10 0;
#X connect 10 0 6 1;
#X connect 11 0 18 0;
#X connect 12 0 19 0;
#X connect 14 0 8 1;
#X connect 15 0 2 1;
#X connect 16 0 6 0;
#X connect 16 1 14 0;
#X connect 16 2 12 0;
#X connect 17 0 22 0;
#X connect 20 0 9 1;
#X connect 20 0 3 1;
#X connect 21 0 20 1;
#X connect 22 0 0 0;
#X connect 22 1 15 0;
#X connect 22 2 20 0;
#X restore 251 253 pd indices;
#X msg 308 231 10;
#X text 339 177 allpartialsatinterval;
#X obj 293 155 list-math *;
#X obj 314 102 r $freq;
#X obj 293 177 s $all;
#X obj 342 231 list length;
#X obj 342 211 r $freq;
#X obj 219 300 f;
#X obj 219 322 s $d;
#X msg 267 219 0;
#X obj 252 300 +;
#X obj 293 124 list;
#N canvas 0 207 689 588 criaVetores 1;
#X floatatom 128 103 0 0 99 1 index - -;
#X floatatom 35 103 0 0 0 0 value - -;
#X obj 35 124 tabwrite \$0-freq;
#X floatatom 334 102 0 0 99 1 index - -;
#X floatatom 247 102 0 0 0 0 value - -;
#X floatatom 553 102 0 0 99 1 index - -;
#X floatatom 466 102 0 0 0 0 value - -;
#X obj 247 123 tabwrite \$0-amp;
#X obj 466 123 tabwrite \$0-all;
#X obj 35 -27 list split 1;
#X obj 35 -74 r $freq;
#X obj 74 16 list append;
#X obj 128 79 + 1;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-amp 20 float 3;
#A 0 0.090909 0.1111 0.142857 0.2 0.3333 1 -0.00195027 -0.00195027
0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 1 20 0 200 140 1 0 0;
#X restore 224 231 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-all 20 float 3;
#A 0 6900 5750 4600 3450 2300 1150 -41.3926 -41.3926 -41.3926 0 0 0
0 0 0 0 0 0 0 0;
#X coords 0 10000 20 0 200 140 1 0 0;
#X restore 441 232 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-freq 20 float 3;
#A 0 3000 2500 2000 1500 1000 500 214.258 214.258 214.258 214.258 214.258
214.258 214.258 214.258 214.258 214.258 214.258 214.258 214.258 214.258
;
#X coords 0 10000 20 -1 200 140 1 0 0;
#X restore 7 232 graph;
#X obj 99 79 f;
#X obj 35 -6 t f b b;
#X obj 35 -52 t l b;
#X obj 247 -28 list split 1;
#X obj 286 18 list append;
#X obj 334 78 + 1;
#X obj 305 78 f;
#X obj 247 -7 t f b b;
#X obj 247 -53 t l b;
#X obj 466 -29 list split 1;
#X obj 505 16 list append;
#X obj 553 77 + 1;
#X obj 524 77 f;
#X obj 466 -8 t f b b;
#X obj 466 -54 t l b;
#X obj 247 -75 r $amp;
#X obj 466 -76 r $all;
#X msg 114 51 -1;
#X msg 320 51 -1;
#X msg 539 50 -1;
#X connect 0 0 2 1;
#X connect 1 0 2 0;
#X connect 3 0 7 1;
#X connect 4 0 7 0;
#X connect 5 0 8 1;
#X connect 6 0 8 0;
#X connect 9 0 17 0;
#X connect 9 1 11 1;
#X connect 10 0 18 0;
#X connect 11 0 9 0;
#X connect 12 0 0 0;
#X connect 12 0 16 1;
#X connect 16 0 12 0;
#X connect 17 0 1 0;
#X connect 17 1 16 0;
#X connect 17 2 11 0;
#X connect 18 0 9 0;
#X connect 18 1 33 0;
#X connect 19 0 23 0;
#X connect 19 1 20 1;
#X connect 20 0 19 0;
#X connect 21 0 22 1;
#X connect 21 0 3 0;
#X connect 22 0 21 0;
#X connect 23 0 4 0;
#X connect 23 1 22 0;
#X connect 23 2 20 0;
#X connect 24 0 19 0;
#X connect 24 1 34 0;
#X connect 25 0 29 0;
#X connect 25 1 26 1;
#X connect 26 0 25 0;
#X connect 27 0 28 1;
#X connect 27 0 5 0;
#X connect 28 0 27 0;
#X connect 29 0 6 0;
#X connect 29 1 28 0;
#X connect 29 2 26 0;
#X connect 30 0 25 0;
#X connect 30 1 35 0;
#X connect 31 0 24 0;
#X connect 32 0 30 0;
#X connect 33 0 16 1;
#X connect 34 0 22 1;
#X connect 35 0 28 1;
#X restore 556 -208 pd criaVetores;
#X obj 236 -24 f;
#X obj 236 0 moses;
#X obj 320 -23 bang;
#X obj 236 43 f;
#X text 234 24 Indice j;
#X obj 270 -24 + 0.01;
#X msg 253 -50 1;
#X obj 236 65 t b b b b f;
#X obj 198 144 r $d;
#X obj 183 166 f;
#X obj 236 -218 r $init;
#X text 325 -171 Intervalo ajustar;
#X obj 367 -23 f;
#X obj 398 -23 + 1;
#X obj 367 0 s $idx;
#X floatatom 656 -109 0 0 99 1 index - -;
#X floatatom 557 -109 0 0 0 0 value - -;
#X obj 557 -88 tabwrite \$0-curve;
#X obj 656 -131 r $idx;
#X obj 183 189 s $df;
#X obj 557 -131 r $df;
#X text 555 -154 Escreve os valores no vetor curve;
#X text 332 275 Calcula a dissonância;
#X msg 382 -60 0;
#X obj 236 -80 t b b;
#X msg 287 -171 2.3;
#X obj 236 -194 t b b b b;
#X text 422 1 Define o indice;
#N canvas 910 563 450 300 encontraMinimos 1;
#X obj 137 22 f;
#X obj 137 -30 r $df;
#X obj 137 -6 t b b b f;
#X obj 33 168 moses 0;
#X obj 99 217 print min;
#X obj 193 95 0;
#X obj 160 59 0;
#X obj 72 193 t b f;
#X obj 29 190 r $idx;
#X obj 33 146 expr if ($f1 >= $f2 && $f2 <= $f3 \, $f2 \, -1);
#X obj 57 217 f;
#X obj 57 242 print indice;
#X connect 0 0 6 1;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 2 1 6 0;
#X connect 2 2 5 0;
#X connect 2 3 0 1;
#X connect 3 1 7 0;
#X connect 5 0 9 2;
#X connect 6 0 5 1;
#X connect 6 0 9 1;
#X connect 7 0 10 0;
#X connect 7 1 4 0;
#X connect 8 0 10 1;
#X connect 9 0 3 0;
#X connect 10 0 11 0;
#X restore 555 -182 pd encontraMinimos;
#X obj 236 -106 until;
#X obj 723 -33 s \$0-curve;
#X msg 723 -57 normalize 2;
#X obj 672 -87 moses 130;
#X connect 0 0 12 0;
#X connect 1 0 0 0;
#X connect 1 1 0 1;
#X connect 2 0 1 1;
#X connect 4 0 6 0;
#X connect 5 0 13 1;
#X connect 7 0 1 1;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 9 0 12 1;
#X connect 11 0 9 1;
#X connect 11 0 12 1;
#X connect 12 0 9 0;
#X connect 13 0 4 0;
#X connect 15 0 16 0;
#X connect 15 0 20 0;
#X connect 16 0 18 0;
#X connect 16 1 17 0;
#X connect 17 0 44 1;
#X connect 18 0 22 0;
#X connect 20 0 15 1;
#X connect 21 0 15 1;
#X connect 22 0 24 0;
#X connect 22 1 1 0;
#X connect 22 2 11 0;
#X connect 22 3 13 0;
#X connect 22 4 4 1;
#X connect 23 0 24 1;
#X connect 24 0 34 0;
#X connect 25 0 41 0;
#X connect 27 0 28 0;
#X connect 27 0 29 0;
#X connect 28 0 27 1;
#X connect 30 0 32 1;
#X connect 30 0 47 0;
#X connect 31 0 32 0;
#X connect 33 0 30 0;
#X connect 35 0 31 0;
#X connect 38 0 27 1;
#X connect 39 0 15 0;
#X connect 39 1 27 0;
#X connect 40 0 16 1;
#X connect 41 0 44 0;
#X connect 41 1 21 0;
#X connect 41 2 38 0;
#X connect 41 3 40 0;
#X connect 44 0 39 0;
#X connect 46 0 45 0;
#X connect 47 1 46 0;
#X restore 624 16 pd externLoop;
#N canvas 0 106 450 300 (subpatch) 0;
#X array \$0-curve 131 float 5;
#A 0 0.00454452 1.09597 1.6726 1.93212 2 1.95577 1.84961 1.71303 1.56557
1.41921 1.28108 1.15526 1.04384 0.947564 0.866161 0.798324 0.741492
0.691263 0.640423 0.577393 0.483876 0.527214 0.532465 0.509 0.455803
0.36204 0.423586 0.447889 0.450602 0.439809 0.417911 0.382534 0.326655
0.238036 0.257096 0.310618 0.337602 0.349908 0.355302 0.358695 0.36297
0.369497 0.378405 0.388681 0.398097 0.402969 0.397763 0.374482 0.321824
0.224026 0.0593123 0.222276 0.318113 0.369196 0.391278 0.395334 0.388901
0.377023 0.362917 0.348414 0.334243 0.320181 0.305092 0.286857 0.262219
0.226499 0.173208 0.145644 0.193054 0.220043 0.233843 0.239596 0.240925
0.240369 0.239685 0.240077 0.242361 0.247076 0.25457 0.265058 0.278654
0.295398 0.315264 0.338159 0.36392 0.39229 0.422897 0.455218 0.488531
0.521858 0.553892 0.5829 0.606609 0.622067 0.625456 0.611882 0.575097
0.507171 0.398078 0.235201 0.00271099 0.234071 0.395432 0.503292 0.570595
0.607445 0.621702 0.619468 0.605456 0.583289 0.55574 0.52491 0.492384
0.459336 0.426629 0.394883 0.364531 0.335864 0.309066 0.284243 0.261439
0.240657 0.221871 0.205035 0.190087 0.176961 0.165585 0.155886 0.147793
0.141232 0.11048;
#X coords 0 2 130 -0.1 400 280 1 0 0;
#X restore 18 176 graph;
#X obj 16 130 bng 15 250 50 0 $init empty Calcular_curva_de_dissonância
17 7 0 10 -262144 -1 -1;
#X msg 206 27 1 0.3333 0.2 0.142857 0.1111 0.090909;
#X msg 11 26 500 1000 1500 2000 2500 3000;
#X msg 20 48 400;
#X msg 215 47 1;
#X msg 71 50 300 500 600 1000;
#X msg 263 50 0.5 0.8 0.3 0.2;
#X msg 66 75 400 800 1200 1600 2000;
#X msg 254 72 1 0.88 0.77 0.68 0.6;
#X obj 493 238 *~ 1;
#X obj 490 206 osc~;
#X obj 526 206 osc~;
#X obj 560 206 osc~;
#X obj 594 206 osc~;
#X obj 627 207 osc~;
#X obj 635 263 *~ 0.6;
#X obj 592 238 *~ 0.68;
#X obj 549 242 *~ 0.77;
#X obj 526 238 *~ 0.88;
#X obj 485 148 unpack \$1 \$2 \$3 \$4 \$5;
#X obj 448 210 print;
#X msg 487 114 list 400 800 1200 1600 2000;
#X obj 533 324 *~ 1;
#X obj 532 360 output~;
#X msg 459 78 500 1000 1500 2000 2500 3000;
#X connect 7 0 3 0;
#X connect 8 0 2 0;
#X connect 9 0 2 0;
#X connect 10 0 3 0;
#X connect 11 0 2 0;
#X connect 12 0 3 0;
#X connect 13 0 2 0;
#X connect 14 0 3 0;
#X connect 15 0 28 0;
#X connect 16 0 15 0;
#X connect 17 0 24 0;
#X connect 18 0 23 0;
#X connect 19 0 22 0;
#X connect 20 0 21 0;
#X connect 21 0 28 0;
#X connect 22 0 28 0;
#X connect 23 0 28 0;
#X connect 24 0 28 0;
#X connect 25 0 16 0;
#X connect 25 0 26 0;
#X connect 25 1 17 0;
#X connect 25 2 18 0;
#X connect 25 3 19 0;
#X connect 25 4 20 0;
#X connect 27 0 25 0;
#X connect 28 0 29 0;
#X connect 30 0 25 0;
